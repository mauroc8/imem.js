<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <title>imem.js</title>
        <link rel="stylesheet" href="styles.css">
        <script src="index.ts"></script>
    </head>
    <body>
        <h1>imem.js</h1>
        <main>
            <div style="display: flex; flex-direction: column; gap: 12px;">
                <div>Código:</div>
                <textarea
                    id="code-input"
                    placeholder="loop: CBZ XZR, loop"
                    cols="50"
                    rows="18"
                    spellcheck="false"
                ></textarea>
                <details>
                    <summary style="cursor: pointer;">Vector de excepciones (opcional):</summary>
                    <textarea
                    id="isr-input"
                    placeholder=""
                    cols="50"
                    rows="8"
                    spellcheck="false"
                    ></textarea>
                    <div>
                        <small style="color: dimgray;">
                            Podés escribir <code>INVALID_INSTRUCTION</code>
                            para generar una instrucción inválida
                        </small>
                    </div>
                </details>
            </div>
            <div>
                <div style="display: flex">
                    <span style="flex-grow: 1">
                        Salida:
                    </span>
                    <button id="copy-output-button">Copiar</button>
                </div>
                <pre id="output">
module imem #(parameter N = 32) (
    input  logic [6:0] addr,
    output logic [N-1:0] q
);
    logic [N-1:0] ROM [0:127];

    initial begin
        ROM = '{ default: 0 };

        ROM [0:<span id="rom-size-output">1</span>] = <span id="code-output">'{
            32'hb400001f
        };</span>
    end

    assign q = ROM[addr];

endmodule
</pre>
            </div>
        </main>
    </body>
</html>